## 1. 시스템 기반의 기초지식

시스템 기반

- 애플리케이션 가동을 위해 필요한 하드웨어나 OS, 미들웨어 등과 같은 인프라

#### 시스템에 요구되는 사항

기능 요구사항

- 시스템이나 소프트웨어에서 무엇을 할수 있는지 모아 놓은것

비기능 요구사항

- 시스템의 성능, 신뢰성, 확장성, 운용성, 보안 등과 같은 요구사항
- 프로그래밍 지식, 시스템기반에 관한 지식 필요

#### 시스템 기반의 구성요소

하드웨어

- 서버 장비 본체, 스토리지, 전원장치 등
- 넓은 의미에서 데이터센터도 포함

네트워크

- 원격지에서 액세스 할수 있도록 서버들을 연결하기 위한 사항
- 라우터 스위치 방화벽 등과 같은 네트워크 장비, 그것들을 연결하기 위한 케이블 등

운영체제

- 하드웨어의 리소스나 프로세스 관리
- 서버 OS는 시스템을 고속 및 안정적으로 가동 시키기 위해 특화

미들웨어

- 서버 OS상에서 서버가 특정 역할을 다하기 위한 기능을 갖고 있는 소프트웨어

---

### 클라우드와 온프레미스

#### 시스템의 이용 형태

온프레미스(on-premises)

- 자사에 데이터센터를 보유, 시스템 구축부터 운용까지 모두 수행 하는 형태
- 서버,네트워크장비, 인프라, 하드웨어, OS를 모두 자사에서 구매 관리
- 초기 시스템 투자 비용부담이 큼, 시스템 운용에 드는 비용을 시스템 이용량에 관계없이 일정금액 부담

퍼블릭 클라우드(public cloud)

- 불특정 다수에게 제공되는 클라우드 서비스
- 서버나 네트워크등 인프라에 관한 기초 투자 불필요
- IaaS/PaaS/SaaS 등 존재
- IaaS는 가상머신이나 스토리지를 선택하고 이용시간이나 데이터양에 따라 요금을 지불 하는 형태
- 이용량이 증가했을떄 인프라 기반을 쉽게 증설(오토스케일) 가능

프라이빗 클라우드(private cloud)

- 특정 기업 그룹에게만 제공되는 클라우드 서비스
- 이용자를 한정 할 수 있으므로 보안성이 높음
- 서비스를 이용한 망큼 요금 부과, 투자 필요 없음

---

#### 클라우드가 적합한 케이스

- 클라우드가 적합한 시스템들이 존재

트래픽의 변동이 많은 시스템

- 정확한 트래픽을 예측하기 힘든 고객용 시스템
- 트래픽 양에 따라 시스템 기반의 서버 사야이나 네트워크 대역을 가늠하는 설계를 사이징이라고 함
- 사이징인 어려운 시스템은 클라우드 시스템이 적합

재해 대책으로 해외에 백업을 구축하고 싶은 시스템

- 재해로 인해 데이터 센터 시스템이 다운 되는걸 방지하기 위해 해외에서 백업시스템을 구축해야 할때
- 업무 연속성 계획(BCP)
  - 재해와 같은 리스크가 발생했을 때 기간 업무를 중단 하지 않거나 기간 업무가 중단된 경우라도 목표로 하는 복구 기간안에 기능을 재개시켜, 사업중단이 야기하는 리스크를 최소한으로 하기 위해 미리 준비해 두는 계획

서비스를 빨리 제공하고 싶은 시스템

- PoC등 초기 투자가 필요한 시스템
- 시스템 릴리스까지의 시간을 가능한 단축시키고 싶은 서비스

---

### 온프레미스가 적합한 케이스

높은 가용성이 요구되는 시스템

- 클라우드 업체가 보장하는것 이상의 가용성이 필요한 경우

기밀성이 높은 데이터를 다루는 시스템

- 물리적 저장 장소를 명확히 할 필요가 있는 업무 데이터는 퍼블릭 클라우드에 저장 할수 없음

특수한 요구사항이 있는 시스템

- 범용적이지 않은 디바이스나 특수한 플랫폼에서만 사용할 경우

---

### 시스템 기반의 구축/운용 흐름

시스템화 계획 요구 사항 정의 -> 인프라설계 -> 인프라 구축 -> 운용

시스템화 계획 요구 사항 정의 단계

- 시스템 구축 범위 선정
- 인프라 요구 사항 정의
- 예산 책정
- 프로젝트 체계화
- 기존 시스템과의 연계
- 시스템 마이그레이션 계획

인프라 설계단계

- 인프라 아키텍쳐 설계
- 네트워크 토폴로지 설계
- 장비 선택, 조달
- OS, 미들웨어 선택, 조달
- 시스템 운용 설계
- 시스템 마이그레이션 설계

인프라 구축 단계

- 네트워크 부설
- 서버설치
- OS 셋업
- 미들웨어 셋업
- 애플리케이션 및 라이브러리 설치
- 테스트
- 시스템 릴리스 및 마이그레이션

운용단계

- 서버 프로세스, 네트워크, 리소스, 배치 모니터링
- 데이터 백업 및 정지 유지보수
- OS,미들웨어 버전 업그레이드
- 애플리 케이션 버전 업그레이드
- 시스템 장애 대응
- 사용자 서포트

## 1.2 하드웨어와 네트워크 기초지식

### 서버장비

CPU

- 작동 주파수가 클수록 연산 능력 높음
- 코어수가 많을수록 동시에 처리 능력 증가

메모리

- CPU가 직접 접근할수 있는 메모리
- 서버용으로는 전력 소모가 적고 오류 처리가 탑재되어 있는 것 선정

스토리지

- 영구적인 데이터를 저장하는 디바이스
- 용량,읽기,쓰기 속도가 시스템의 전체 응답 시간에 영향
- 하드디스크의 고장은 중요한 데이터 손실로 이어지므로 다중화 구성

### 네트워크 주소

MAC주소(물리 주소/이더넷 주소)

- 네트워크 인터페이스 카드나 무선 LAN칩과 같은 네트워크 부품에 물리적으로 할당되는 48비트 주소
- 앞 24비트는 부품 제조업체 식별 번호
- 뒤 24비트는 각 제조업체가 중복되지 않도록 할당
- 16진수로 표기
- 2바이트씩 구분하여 표시
- OSI 참조 모델의 2계층인 데이터 링크 계층에서 사용

IP주소

- 인터넷이나 인트라넷과 같은 네트워크에 연결된 컴퓨터나 네트워크 장비에 할당되는 식별 번호
- IPv4는 8 비트씩 4개로 구분된 32비트 주소, 하나의 네트워크에 2^32개 까지 연결가능 하지만 현시대에는 고갈 우려
- 따라서 사내 네트워크에서는 임의의 주소를 할당할 수 있는 프라이빗 주소 사용
- 인터넷과의 경계에 글로벌 주소와 프라이빗 주소를 변환(NAT)해주는 장비를 설치하여 운용
- IPv6는 128비트 주소체계
- 인터넷상 글로벌 주소의 할당은 중복되지 않도록 각 나라의 NIC가 수행

#### OSI 참조 모델과 통신 프로토콜

- 통신을 하기 위해선 상대와 약속이 필요
- 통신 프로토콜은 서로 통신하기 위한 약속
- OSI 참조 모델은 국제 표준화 기구가 정한 컴퓨터 통신 기능을 계층 구조로 나눈 개념모델

| OSI 참조모델           |   대표 프로토콜   |     대표 통신 기기 |
| ---------------------- | :---------------: | -----------------: |
| 7계층 응용 계층        | HTTP,DNS,SMTP,SSH | 방화벽, 로드밸런서 |
| 6계층 표현 계층        |                   |                    |
| 5계층 세션 계층        |                   |                    |
| 4계층 전송 계층        |      TCP,UDP      |                    |
| 3계층 네트워크 계층    |     IP, ICMP      |  라우터, L3 스위치 |
| 2계층 데이터 링크 계층 |     Ethernet      |  L2 스위치, 브리지 |
| 1계층 물리 계층        |                   |        리피터 허브 |

응용 계층

- HTTP, SMTP등과 같은 애플리케이션에 특화된 프로토콜

표현 계층

- 데이터의 저장 형식이나 압축, 문자 인코딩과 같은 데이터 표현 형식 규정

세션 계층

- 커넥션 확립 타이밍이나 데이터 전송 타이밍 규정
- 세션은 애플리케이션간에 일어나는 요청과 응답으로 구성

전송계층

- 데이터 전송을 제어하는 계층
- 전송 오류 검출이나 재전송 규정
- TCP/UDP가 존재
- 데이터를 상대방의 노드로 확실히 보내는 역할을 하는 것

네트워크 계층

- 서로 다른 네트워크 간에 통신을 하기 위한 규정
- IP주소를 바탕으로 네트워크 계층에서 작동하는 대표적인 통신 장비로는 라우터나 레이어3 스위치 -> 패킷을 어디에서 어디로 전송할지에 대한 정보 관리

데이터 링크 계층

- 동일한 네트워크 안에 있는 노드 간에 통신을 규정
- MAC 주소로 데이터를 전송
- 레이어 2스위치는 통신하고 싶은 노드가 어떤 포트와 연결되어 있는지를 MAC주소를 사용하여 판단

물리 계층

- 통신 장비의 물리적 및 전기적 특성을 규정
- 데이터를 어떻게 전압과 전류의 값으로 할당할지나 케이블이나 커넥터의 모양 등을 규정

#### 방화벽

- 내부 네트워크와 외부 와의 통신을 제어하고, 내부 네트워크의 안전을 유지하기 위한 기술

패킷 필터형

- 통과하는 패킷을 포트나 IP를 바탕으로 필터
- 패킷 필터링 룰을 ACL(액세스 제어 리스트)라고 함

애플리케이션 게이트웨이형

- 애플리케이션 프로토콜 레벨에서 외부와의 통신을 대체 제어
- 프록시 서버

#### 라우터/레이어 3스위치

- 라우터는 2개 이상의 서로 다른 네트워크 간을 중계
- 어떤 루트를 통해 데이터를 전송할지를 판단하기 위한 경로 선택 기능
- 어떤 루트를 경유할지는 라우터에 설정된 라우팅 데이블을 바탕으로 정해지는 정적경로와 라우팅 프로토콜에서 설정된 동적 경로가 존재
- 레이어3 스위치는 라우터가 거의 똑같은 기능 존재, 라우팅을 하드웨어로 처리하고 있으므로 고속으로 작동
